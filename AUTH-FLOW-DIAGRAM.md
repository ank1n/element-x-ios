# –ë–ª–æ–∫-—Å—Ö–µ–º–∞ —Å—Ü–µ–Ω–∞—Ä–∏—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ Element X iOS

## –û—Ç–∫–∞—Ç –∫ –æ—Ä–∏–≥–∏–Ω–∞–ª—É
```bash
git checkout backup-before-auth-changes -- ElementX/Sources/
# –∏–ª–∏
cp -r backups/auth-original/* ios/ElementX/Sources/
```

## –ë–ª–æ–∫-—Å—Ö–µ–º–∞ (–ù–û–í–´–ô —Å—Ü–µ–Ω–∞—Ä–∏–π)

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                         –ó–ê–ü–£–°–ö –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø                        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                 ‚îÇ
                                 ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ              AuthenticationStartScreen                           ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ  ‚îÇ  [–õ–æ–≥–æ]                                                  ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ                                                          ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ  [Sign in]  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫ (A)        ‚îÇ  ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ                                                          ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ  [Create account] ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫ (B)        ‚îÇ  ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ                                                          ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îÇ  [Sign in with QR code] ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫ (C)        ‚îÇ  ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ                                                          ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  ~~[Report a problem]~~ ‚óÑ‚îÄ‚îÄ –£–î–ê–õ–ï–ù–û                      ‚îÇ   ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ                    ‚îÇ                ‚îÇ
         ‚ñº (A)               ‚ñº (B)            ‚ñº (C)
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                 ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  SavedAccountsScreen   ‚îÇ                 ‚îÇ  QR Code Login        ‚îÇ
‚îÇ  (–ù–û–í–´–ô –≠–ö–†–ê–ù)         ‚îÇ                 ‚îÇ  (–ë–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)      ‚îÇ
‚îÇ                        ‚îÇ                 ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
‚îÇ  –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞: –ø–æ—Å–ª–µ–¥–Ω–∏–π ‚îÇ                             ‚îÇ
‚îÇ  –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–π –ø–µ—Ä–≤—ã–º ‚îÇ                             ‚ñº
‚îÇ                        ‚îÇ                 ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ                 ‚îÇ  –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è          ‚îÇ
‚îÇ  ‚îÇ ‚òÖ server1.ru     ‚îÇ  ‚îÇ                 ‚îÇ  —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞           ‚îÇ
‚îÇ  ‚îÇ   @user1         ‚îÇ‚óÑ‚îÄ‚î§ –í—ã–±—Ä–∞—Ç—å ‚Üí       ‚îÇ       ‚îÇ               ‚îÇ
‚îÇ  ‚îÇ          [üóë Del] ‚îÇ  ‚îÇ —Å—Ä–∞–∑—É SSO       ‚îÇ       ‚ñº               ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§  ‚îÇ                 ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê        ‚îÇ
‚îÇ  ‚îÇ   server2.ru     ‚îÇ  ‚îÇ                 ‚îÇ  ‚îÇ –£–°–ü–ï–•    ‚îÇ        ‚îÇ
‚îÇ  ‚îÇ   @user2         ‚îÇ  ‚îÇ                 ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò        ‚îÇ
‚îÇ  ‚îÇ          [üóë Del] ‚îÇ  ‚îÇ                 ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
‚îÇ  ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§  ‚îÇ
‚îÇ  ‚îÇ   server3.ru     ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ   @user3         ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ          [üóë Del] ‚îÇ  ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§  ‚îÇ
‚îÇ  ‚îÇ                  ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  [+ –î–æ–±–∞–≤–∏—Ç—å     ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ    –Ω–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä] ‚îÄ‚îº‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚ñ∫ (A2) –í–≤–æ–¥ –∞–¥—Ä–µ—Å–∞ —Å–µ—Ä–≤–µ—Ä–∞
‚îÇ  ‚îÇ                  ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ                              ‚îÇ
         ‚îÇ (–≤—ã–±—Ä–∞–Ω —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–π)         ‚îÇ (A2 - –Ω–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä)
         ‚îÇ                              ‚ñº
         ‚îÇ                   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
         ‚îÇ                   ‚îÇ –í–≤–æ–¥ –∞–¥—Ä–µ—Å–∞ —Å–µ—Ä–≤–µ—Ä–∞  ‚îÇ
         ‚îÇ                   ‚îÇ                      ‚îÇ
         ‚îÇ                   ‚îÇ [________________]   ‚îÇ
         ‚îÇ                   ‚îÇ  placeholder: –Ω–µ—Ç    ‚îÇ
         ‚îÇ                   ‚îÇ                      ‚îÇ
         ‚îÇ                   ‚îÇ [–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å] ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îê
         ‚îÇ                   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
         ‚îÇ                                             ‚îÇ
         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                ‚îÇ
                                ‚ñº (F) –ù–ê–ü–†–Ø–ú–£–Æ –ö SSO
                   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                   ‚îÇ authService.configure()  ‚îÇ
                   ‚îÇ (–æ–ø—Ä–µ–¥–µ–ª—è–µ–º URL —Å–µ—Ä–≤–µ—Ä–∞) ‚îÇ
                   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                ‚îÇ
                                ‚ñº
                   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                   ‚îÇ    OIDC / SSO Login      ‚îÇ
                   ‚îÇ    (Keycloak)            ‚îÇ
                   ‚îÇ                          ‚îÇ
                   ‚îÇ  –ë—Ä–∞—É–∑–µ—Ä –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è     ‚îÇ
                   ‚îÇ  —Å —Ñ–æ—Ä–º–æ–π Keycloak       ‚îÇ
                   ‚îÇ                          ‚îÇ
                   ‚îÇ  ‚óÑ‚îÄ‚îÄ –í—Å–µ–≥–¥–∞ SSO,         ‚îÇ
                   ‚îÇ      –±–µ–∑ password        ‚îÇ
                   ‚îÇ      fallback            ‚îÇ
                   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                ‚îÇ
                                ‚ñº
         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
         ‚îÇ  –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∞–∫–∫–∞—É–Ω—Ç –≤ –ª–æ–∫–∞–ª—å–Ω–æ–µ       ‚îÇ
         ‚îÇ  —Ö—Ä–∞–Ω–∏–ª–∏—â–µ (—Å–µ—Ä–≤–µ—Ä + userId +         ‚îÇ
         ‚îÇ  timestamp –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –≤—Ö–æ–¥–∞)          ‚îÇ
         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚îÇ
                            ‚ñº

         ‚ñº (B) Create Account
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  ServerInputScreen           ‚îÇ
‚îÇ  (–î–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏)           ‚îÇ
‚îÇ                              ‚îÇ
‚îÇ  –°–µ—Ä–≤–µ—Ä:                     ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ                        ‚îÇ  ‚îÇ  ‚óÑ‚îÄ‚îÄ –ü–æ–ª–µ –ø—É—Å—Ç–æ–µ
‚îÇ  ‚îÇ  placeholder: matrix.org‚îÇ  ‚îÇ      —Å–µ—Ä—ã–π —à–∞–±–ª–æ–Ω
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ                              ‚îÇ
‚îÇ  [–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å] ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚ñ∫ (F) –ù–ê–ü–†–Ø–ú–£–Æ –ö SSO
‚îÇ                              ‚îÇ      (Keycloak —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è)
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

                            ‚îÇ
                            ‚ñº (–ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ SSO)
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                     –ê–í–¢–û–†–ò–ó–ê–¶–ò–Ø –£–°–ü–ï–®–ù–ê                          ‚îÇ
‚îÇ                     UserSession —Å–æ–∑–¥–∞–Ω                           ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                 ‚îÇ
                                 ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ              OnboardingFlowCoordinator                           ‚îÇ
‚îÇ                                                                 ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îÇ
‚îÇ  ‚îÇ  1. Identity Confirmation (–≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞)       ‚îÇ    ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îÇ
‚îÇ                                 ‚ñº                               ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îÇ
‚îÇ  ‚îÇ  2. Notification Permissions (—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è)               ‚îÇ    ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îÇ
‚îÇ                                 ‚ñº                               ‚îÇ
‚îÇ  ~~3. App Lock Setup~~ ‚óÑ‚îÄ‚îÄ –û–¢–ö–õ–Æ–ß–ï–ù–û                            ‚îÇ
‚îÇ  ~~4. Analytics Prompt~~ ‚óÑ‚îÄ‚îÄ –û–¢–ö–õ–Æ–ß–ï–ù–û                          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                 ‚îÇ
                                 ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    –ü–†–ò–õ–û–ñ–ï–ù–ò–ï –ì–û–¢–û–í–û –ö –†–ê–ë–û–¢–ï                    ‚îÇ
‚îÇ                    (–°–ø–∏—Å–æ–∫ –∫–æ–º–Ω–∞—Ç)                               ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## –°—Ä–∞–≤–Ω–µ–Ω–∏–µ: –°–¢–ê–†–´–ô vs –ù–û–í–´–ô —Å—Ü–µ–Ω–∞—Ä–∏–π

| # | –≠–ª–µ–º–µ–Ω—Ç | –ë–´–õ–û | –°–¢–ê–õ–û |
|---|---------|------|-------|
| 1 | –ö–Ω–æ–ø–∫–∞ "Report a problem" | –ï—Å—Ç—å | **–£–î–ê–õ–ï–ù–ê** |
| 2 | –í–µ—Ç–∫–∞ A (Sign in) | ‚Üí ServerConfirmation ‚Üí –∞–≤—Ç–æ-–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ | ‚Üí **SavedAccountsScreen** (—Å–ø–∏—Å–æ–∫ –∞–∫–∫–∞—É–Ω—Ç–æ–≤) ‚Üí SSO |
| 3 | ServerConfirmationScreen | –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å [Change provider] –∏ [Continue] | **–£–î–ê–õ–Å–ù** –ø–æ–ª–Ω–æ—Å—Ç—å—é |
| 4 | [Change account provider] | –ï—Å—Ç—å –Ω–∞ ServerConfirmation | **–£–î–ê–õ–Å–ù** |
| 5 | –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ (OIDC/Password) | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ, –æ–±–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞ | **–¢–æ–ª—å–∫–æ SSO/OIDC** (Keycloak) |
| 6 | Password Login —ç–∫—Ä–∞–Ω | –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –µ—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä –Ω–µ OIDC | **–£–î–ê–õ–Å–ù** |
| 7 | –í–µ—Ç–∫–∞ B (Create account) | ‚Üí ServerConfirmation (—Å–µ—Ä–≤–µ—Ä –ø—Ä–µ–¥–∑–∞–ø–æ–ª–Ω–µ–Ω) | ‚Üí **–ü–æ–ª–µ –≤–≤–æ–¥–∞** (–ø—É—Å—Ç–æ–µ, placeholder "matrix.org") ‚Üí SSO |
| 8 | –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–æ–≤ | –ù–µ—Ç | **–ù–û–í–û–ï** ‚Äî localStorage —Å–µ—Ä–≤–µ—Ä–æ–≤/–∞–∫–∫–∞—É–Ω—Ç–æ–≤ |
| 9 | –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –∞–∫–∫–∞—É–Ω—Ç–æ–≤ | ‚Äî | **–ù–û–í–û–ï** ‚Äî –ø–æ –ø–æ—Å–ª–µ–¥–Ω–µ–º—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é |
| 10 | –£–¥–∞–ª–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–æ–≤ | ‚Äî | **–ù–û–í–û–ï** ‚Äî swipe-to-delete |
| 11 | App Lock Setup | –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ (appLockIsMandatory) | **–û–¢–ö–õ–Æ–ß–Å–ù** |
| 12 | Analytics Prompt | –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –µ—Å–ª–∏ –µ—Å—Ç—å URL | **–û–¢–ö–õ–Æ–ß–Å–ù** |
| 13 | QR Code Login | –ï—Å—Ç—å | **–ë–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π** |
| 14 | Identity Confirmation | –ï—Å—Ç—å | **–ë–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π** |
| 15 | Notifications | –ï—Å—Ç—å | **–ë–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π** |

## –õ–æ–≥–∏—á–µ—Å–∫–∏–µ –≤–æ–ø—Ä–æ—Å—ã / –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

| # | –í–æ–ø—Ä–æ—Å | –†–µ—à–µ–Ω–∏–µ |
|---|--------|---------|
| 1 | –ß—Ç–æ –µ—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä –ù–ï –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç OIDC/SSO? | –ü–æ–∫–∞–∑–∞—Ç—å –æ—à–∏–±–∫—É "–°–µ—Ä–≤–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç SSO. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–µ—Ä–≤–µ—Ä —Å Keycloak" |
| 2 | –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ ‚Äî –Ω–µ—Ç —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤ | SavedAccountsScreen –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫ + –∫–Ω–æ–ø–∫—É "–î–æ–±–∞–≤–∏—Ç—å —Å–µ—Ä–≤–µ—Ä" |
| 3 | –ì–¥–µ —Ö—Ä–∞–Ω–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã? | UserDefaults (—Å–µ—Ä–≤–µ—Ä+userId+timestamp). –¢–æ–∫–µ–Ω—ã —É–∂–µ –≤ Keychain —á–µ—Ä–µ–∑ SDK |
| 4 | Logout ‚Äî —É–¥–∞–ª—è—Ç—å –∏–∑ —Å–ø–∏—Å–∫–∞? | –ù–µ—Ç, –æ—Å—Ç–∞–≤–ª—è—Ç—å. –£–¥–∞–ª–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –≤—Ä—É—á–Ω—É—é (swipe) |
| 5 | –ù–µ—Å–∫–æ–ª—å–∫–æ –∞–∫–∫–∞—É–Ω—Ç–æ–≤ –Ω–∞ –æ–¥–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ? | –ö–∞–∂–¥—ã–π –∞–∫–∫–∞—É–Ω—Ç ‚Äî –æ—Ç–¥–µ–ª—å–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ –≤ —Å–ø–∏—Å–∫–µ |
| 6 | –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ SSO ‚Äî Keycloak –Ω–∞—Å—Ç—Ä–æ–µ–Ω? | Keycloak –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å enabled self-registration |
| 7 | –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ –∏–∑ –≤–µ—Ç–∫–∏ A vs –≤–µ—Ç–∫–∞ B | A: "–î–æ–±–∞–≤–∏—Ç—å —Å–µ—Ä–≤–µ—Ä" ‚Üí –≤–≤–æ–¥ URL ‚Üí SSO login. B: –≤–≤–æ–¥ URL ‚Üí SSO register. –†–∞–∑–Ω—ã–µ flow –Ω–∞ Keycloak |

## –ü–ª–∞–Ω –∏–∑–º–µ–Ω–µ–Ω–∏–π (—Ñ–∞–π–ª—ã –∏ –∑–∞–¥–∞—á–∏)

### 1. –ù–æ–≤–∞—è –º–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö: SavedAccount
**–ù–æ–≤—ã–π —Ñ–∞–π–ª:** `Services/Authentication/SavedAccountsStore.swift`
```swift
struct SavedAccount: Codable, Identifiable {
    let id: String          // uniqueID
    let serverURL: String   // "https://matrix.market.implica.ru"
    let userId: String      // "@user:server.ru"
    let displayName: String?
    let avatarURL: String?
    var lastUsedAt: Date    // –¥–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
}

class SavedAccountsStore {
    func getAll() -> [SavedAccount]           // sorted by lastUsedAt desc
    func save(_ account: SavedAccount)
    func delete(id: String)
    func updateLastUsed(id: String)
}
```

### 2. –ù–æ–≤—ã–π —ç–∫—Ä–∞–Ω: SavedAccountsScreen
**–ù–æ–≤—ã–π —Ñ–∞–π–ª:** `Screens/Authentication/SavedAccountsScreen/`
- `SavedAccountsScreen.swift` ‚Äî UI (List —Å –∞–∫–∫–∞—É–Ω—Ç–∞–º–∏, swipe-delete, –∫–Ω–æ–ø–∫–∞ "–î–æ–±–∞–≤–∏—Ç—å")
- `SavedAccountsScreenModels.swift` ‚Äî ViewState, ViewAction
- `SavedAccountsScreenViewModel.swift` ‚Äî –ª–æ–≥–∏–∫–∞
- `SavedAccountsScreenCoordinator.swift` ‚Äî –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä

### 3. –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è: AuthenticationStartScreen
**–§–∞–π–ª:** `Screens/Authentication/StartScreen/View/AuthenticationStartScreen.swift`
- –£–¥–∞–ª–∏—Ç—å –∫–Ω–æ–ø–∫—É "Report a problem"
- –û—Å—Ç–∞–≤–∏—Ç—å: Sign in, Create account, QR code

### 4. –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è: AuthenticationFlowCoordinator
**–§–∞–π–ª:** `FlowCoordinators/AuthenticationFlowCoordinator.swift`
- –í–µ—Ç–∫–∞ A: –≤–º–µ—Å—Ç–æ ServerConfirmation ‚Üí –æ—Ç–∫—Ä—ã–≤–∞—Ç—å SavedAccountsScreen
- –ü–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ –∞–∫–∫–∞—É–Ω—Ç–∞/–≤–≤–æ–¥–∞ —Å–µ—Ä–≤–µ—Ä–∞ ‚Üí —Å—Ä–∞–∑—É `authService.configure()` ‚Üí OIDC
- –í–µ—Ç–∫–∞ B: –æ—Ç–∫—Ä—ã–≤–∞—Ç—å ServerInputScreen (–ø—É—Å—Ç–æ–µ –ø–æ–ª–µ, placeholder "matrix.org") ‚Üí OIDC
- –£–¥–∞–ª–∏—Ç—å –ø–µ—Ä–µ—Ö–æ–¥—ã –∫ ServerConfirmationScreen
- –£–¥–∞–ª–∏—Ç—å –ø–µ—Ä–µ—Ö–æ–¥—ã –∫ LoginScreen (password)
- –£–±—Ä–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É "Change account provider"

### 5. –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è: ServerSelectionScreen (–ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –≤–≤–æ–¥–∞ —Å–µ—Ä–≤–µ—Ä–∞)
**–§–∞–π–ª:** `Screens/Authentication/ServerSelectionScreen/`
- –î–ª—è –≤–µ—Ç–∫–∏ B: –ø–æ–ª–µ –ø—É—Å—Ç–æ–µ, placeholder "matrix.org"
- –î–ª—è –≤–µ—Ç–∫–∏ A (–¥–æ–±–∞–≤–∏—Ç—å —Å–µ—Ä–≤–µ—Ä): –ø–æ–ª–µ –ø—É—Å—Ç–æ–µ, –±–µ–∑ placeholder
- –£–±—Ä–∞—Ç—å —Å–ø–∏—Å–æ–∫ –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤

### 6. –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è: OnboardingFlowCoordinator
**–§–∞–π–ª:** `FlowCoordinators/OnboardingFlowCoordinator.swift`
- –û—Ç–∫–ª—é—á–∏—Ç—å App Lock Setup
- –û—Ç–∫–ª—é—á–∏—Ç—å Analytics Prompt
- –û—Å—Ç–∞–≤–∏—Ç—å: Identity Confirmation, Notifications

### 7. –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è: AppSettings
**–§–∞–π–ª:** `Other/AppSettings.swift`
- `appLockIsMandatory = false`
- –£–±—Ä–∞—Ç—å `analyticsTermsURL`
- –ú–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å `allowOtherAccountProviders` (–±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–Ω–æ)

### 8. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ SSO
**–§–∞–π–ª:** `FlowCoordinators/AuthenticationFlowCoordinator.swift` –∏–ª–∏ `AuthenticationService.swift`
- –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ ‚Üí —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ `SavedAccountsStore`
- –û–±–Ω–æ–≤–∏—Ç—å `lastUsedAt` –µ—Å–ª–∏ –∞–∫–∫–∞—É–Ω—Ç —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç

### 9. –£–¥–∞–ª–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —ç–∫—Ä–∞–Ω—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –º–æ–∂–Ω–æ –ø–æ–∑–∂–µ)
- `ServerConfirmationScreen/` ‚Äî –±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–µ–Ω
- `LoginScreen/` ‚Äî –±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–µ–Ω (password login)

## –ü–æ—Ä—è–¥–æ–∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

1. `SavedAccountsStore` ‚Äî –º–æ–¥–µ–ª—å + —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
2. `SavedAccountsScreen` ‚Äî UI –Ω–æ–≤–æ–≥–æ —ç–∫—Ä–∞–Ω–∞
3. `AuthenticationFlowCoordinator` ‚Äî –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç—ã
4. `AuthenticationStartScreen` ‚Äî —É–±—Ä–∞—Ç—å Report a problem
5. `ServerSelectionScreen` ‚Äî –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–ª—è –Ω–æ–≤–æ–≥–æ flow
6. `OnboardingFlowCoordinator` ‚Äî –æ—Ç–∫–ª—é—á–∏—Ç—å –ª–∏—à–Ω–∏–µ —à–∞–≥–∏
7. `AppSettings` ‚Äî –æ–±–Ω–æ–≤–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
8. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞ –ø–æ—Å–ª–µ SSO
9. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª–Ω–æ–≥–æ flow
