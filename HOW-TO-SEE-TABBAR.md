# üéØ –ö–∞–∫ —É–≤–∏–¥–µ—Ç—å TabBar —Å –≤–∫–ª–∞–¥–∫–æ–π Widgets

## –ü—Ä–æ–±–ª–µ–º–∞
–ù–∞ —Å–∫—Ä–∏–Ω—à–æ—Ç–µ –≤–∏–¥–Ω–æ —Å–ø–∏—Å–æ–∫ —á–∞—Ç–æ–≤, –Ω–æ **TabBar –≤–Ω–∏–∑—É –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç**.

## –ü—Ä–∏—á–∏–Ω–∞
–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –Ω–∞ **–≤–ª–æ–∂–µ–Ω–Ω–æ–º —ç–∫—Ä–∞–Ω–µ** (–≤–∏–¥–Ω–∞ —Å—Ç—Ä–µ–ª–∫–∞ "–Ω–∞–∑–∞–¥" ‚Üê), –∞ –Ω–µ –Ω–∞ –≥–ª–∞–≤–Ω–æ–º —ç–∫—Ä–∞–Ω–µ —Å –≤–∫–ª–∞–¥–∫–∞–º–∏.

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ: –í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω

### –°–ø–æ—Å–æ–± 1: –ù–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É "–ù–∞–∑–∞–¥" (‚Üê )
–í —Å–∏–º—É–ª—è—Ç–æ—Ä–µ:
1. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –≤ **–ª–µ–≤—ã–π –≤–µ—Ä—Ö–Ω–∏–π —É–≥–æ–ª** —ç–∫—Ä–∞–Ω–∞
2. –ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ —Å—Ç—Ä–µ–ª–∫—É **‚Üê** (–Ω–∞–∑–∞–¥)
3. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –Ω–µ—ë
4. –í—ã –≤–µ—Ä–Ω—ë—Ç–µ—Å—å –Ω–∞ –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω
5. **TabBar –¥–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è –≤–Ω–∏–∑—É**

### –°–ø–æ—Å–æ–± 2: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
–í Xcode:
1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: **‚åò.** (Command + —Ç–æ—á–∫–∞)
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∑–∞–Ω–æ–≤–æ: **‚åòR**
3. –ï—Å–ª–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è AppLock ‚Üí –Ω–∞–∂–º–∏—Ç–µ "–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å üôà"
4. –î–æ–ª–∂–µ–Ω –æ—Ç–∫—Ä—ã—Ç—å—Å—è **–≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω —Å TabBar**

### –°–ø–æ—Å–æ–± 3: Home + –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫
–í —Å–∏–º—É–ª—è—Ç–æ—Ä–µ:
1. –ù–∞–∂–º–∏—Ç–µ **Home** (‚áß‚åòH)
2. –£–¥–∞–ª–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ ElementX:
   - –î–æ–ª–≥–∏–π —Ç–∞–ø –Ω–∞ –∏–∫–æ–Ω–∫—É
   - Remove App ‚Üí Delete App
3. –í Xcode: Product ‚Üí Run (‚åòR)
4. –ù–æ–≤—ã–π –∑–∞–ø—É—Å–∫ –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —ç–∫—Ä–∞–Ω

---

## üéØ –ß—Ç–æ –≤—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å

### –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω —Å TabBar:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ         –í—Å–µ —á–∞—Ç—ã            [+]      ‚îÇ
‚îÇ                                      ‚îÇ
‚îÇ  üî¥ Video test                       ‚îÇ
‚îÇ  üü£ dbondar                          ‚îÇ
‚îÇ  üîµ testuser                         ‚îÇ
‚îÇ  üü¢ Sergey Alekseevich               ‚îÇ
‚îÇ  üü£ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞                       ‚îÇ
‚îÇ  üîµ Test Room                        ‚îÇ
‚îÇ  üü† narksu                           ‚îÇ
‚îÇ                                      ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ [üí¨]   [üè†]   [üß©]   [üë§]           ‚îÇ ‚Üê TabBar –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ó–î–ï–°–¨!
‚îÇ Chats Spaces Widgets Profile         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–ö–ª—é—á–µ–≤–æ–π –º–æ–º–µ–Ω—Ç**: –í–Ω–∏–∑—É –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å **TabBar —Å 4 –≤–∫–ª–∞–¥–∫–∞–º–∏**!

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è

### –ß—Ç–æ –≤–∏–¥–Ω–æ –Ω–∞ –≤–∞—à–µ–º —Å–∫—Ä–∏–Ω—à–æ—Ç–µ:
- ‚úÖ –°–ø–∏—Å–æ–∫ —á–∞—Ç–æ–≤ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
- ‚úÖ –ö–Ω–æ–ø–∫–∞ "+" —Å–ø—Ä–∞–≤–∞ –≤–≤–µ—Ä—Ö—É
- ‚ùå **TabBar –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤–Ω–∏–∑—É** ‚Üê –ü–†–û–ë–õ–ï–ú–ê
- ‚ùå –í–∏–¥–Ω–∞ —Å—Ç—Ä–µ–ª–∫–∞ "–Ω–∞–∑–∞–¥" —Å–ª–µ–≤–∞ –≤–≤–µ—Ä—Ö—É

### –ß—Ç–æ —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç:
–í—ã –Ω–∞—Ö–æ–¥–∏—Ç–µ—Å—å **–ù–ï –Ω–∞ –≥–ª–∞–≤–Ω–æ–º —ç–∫—Ä–∞–Ω–µ**. –í–æ–∑–º–æ–∂–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã:
1. –≠—Ç–æ —ç–∫—Ä–∞–Ω "–í—ã–±–æ—Ä –∫–æ–º–Ω–∞—Ç—ã" –¥–ª—è –∫–∞–∫–æ–≥–æ-—Ç–æ –¥–µ–π—Å—Ç–≤–∏—è
2. –≠—Ç–æ —ç–∫—Ä–∞–Ω –≤–Ω—É—Ç—Ä–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ (–Ω–µ root screen)
3. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –ø–æ–∫–∞–∑–∞–ª–æ –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞

---

## üõ†Ô∏è –û—Ç–ª–∞–¥–∫–∞: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞

–ï—Å–ª–∏ TabBar –Ω–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –¥–∞–∂–µ –Ω–∞ –≥–ª–∞–≤–Ω–æ–º —ç–∫—Ä–∞–Ω–µ, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–¥:

### 1. HomeTab enum –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π?
```bash
grep "enum HomeTab" ElementX/Sources/FlowCoordinators/UserSessionFlowCoordinator.swift
```

**–î–æ–ª–∂–Ω–æ –±—ã—Ç—å**:
```swift
enum HomeTab: Hashable { case chats, spaces, widgets }
```

### 2. setTabs –≤–∫–ª—é—á–∞–µ—Ç widgets?
```bash
grep -A4 "navigationTabCoordinator.setTabs" ElementX/Sources/FlowCoordinators/UserSessionFlowCoordinator.swift
```

**–î–æ–ª–∂–Ω–æ –±—ã—Ç—å**:
```swift
navigationTabCoordinator.setTabs([
    .init(coordinator: chatsSplitCoordinator, details: chatsTabDetails),
    .init(coordinator: spacesSplitCoordinator, details: spacesTabDetails),
    .init(coordinator: widgetsStackCoordinator, details: widgetsTabDetails)  // ‚Üê –≠–¢–ê –°–¢–†–û–ö–ê
])
```

### 3. –§–∞–π–ª—ã —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω—ã?
```bash
ls -la ~/Library/Developer/Xcode/DerivedData/ElementX-*/Build/Products/Debug-iphonesimulator/ElementX.app/WidgetsTabFlowCoordinator* 2>/dev/null
```

–ï—Å–ª–∏ —Ñ–∞–π–ª—ã –µ—Å—Ç—å ‚Üí –∫–æ–¥ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω ‚úÖ

---

## üì∏ –°–¥–µ–ª–∞–π—Ç–µ –Ω–æ–≤—ã–π —Å–∫—Ä–∏–Ω—à–æ—Ç

–ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –≤–µ—Ä–Ω—ë—Ç–µ—Å—å –Ω–∞ –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω:
1. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤–Ω–∏–∑—É –µ—Å—Ç—å TabBar
2. –°–¥–µ–ª–∞–π—Ç–µ —Å–∫—Ä–∏–Ω—à–æ—Ç: **‚åò‚áß5** –≤ Xcode
3. –ü–æ–∫–∞–∂–∏—Ç–µ —Å–∫—Ä–∏–Ω—à–æ—Ç

**–í–∞–∂–Ω–æ**: –°–∫—Ä–∏–Ω—à–æ—Ç –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å **–Ω–∏–∂–Ω—é—é —á–∞—Å—Ç—å —ç–∫—Ä–∞–Ω–∞** —Å TabBar!

---

## üéâ –£—Å–ø–µ—Ö

–ï—Å–ª–∏ –≤—ã –≤–∏–¥–∏—Ç–µ –≤–Ω–∏–∑—É TabBar —Å **4 –≤–∫–ª–∞–¥–∫–∞–º–∏**:
```
[üí¨ Chats]  [üè† Spaces]  [üß© Widgets]  [üë§ Profile]
```

**–ó–Ω–∞—á–∏—Ç –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç!** –ù–∞–∂–º–∏—Ç–µ –Ω–∞ —Ç—Ä–µ—Ç—å—é –≤–∫–ª–∞–¥–∫—É (üß© Widgets) –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ.

---

## ‚ùì –ï—Å–ª–∏ TabBar –≤—Å—ë —Ä–∞–≤–Ω–æ –Ω–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è

### –°—Ü–µ–Ω–∞—Ä–∏–π: –ù–∞ –≥–ª–∞–≤–Ω–æ–º —ç–∫—Ä–∞–Ω–µ –Ω–µ—Ç TabBar

–í–æ–∑–º–æ–∂–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞: –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ –∫–∞–∫–æ–º-—Ç–æ –æ—Å–æ–±–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏ (onboarding, verification, etc.)

**–†–µ—à–µ–Ω–∏–µ**:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–µ—Ç –ª–∏ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω –ø–æ–≤–µ—Ä—Ö —ç–∫—Ä–∞–Ω–∞
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–µ—Ç –ª–∏ —ç–∫—Ä–∞–Ω–∞ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏/onboarding
3. –ü–æ–ª–Ω–æ—Å—Ç—å—é –≤—ã–π–¥–∏—Ç–µ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞ –∏ –≤–æ–π–¥–∏—Ç–µ –∑–∞–Ω–æ–≤–æ
4. –ò–ª–∏ —É–¥–∞–ª–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–Ω–æ–≤–æ (Product ‚Üí Run)

### –°—Ü–µ–Ω–∞—Ä–∏–π: TabBar –µ—Å—Ç—å, –Ω–æ —Ç–æ–ª—å–∫–æ 3 –≤–∫–ª–∞–¥–∫–∏ (–±–µ–∑ Widgets)

–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç —á—Ç–æ —Å–æ–±—Ä–∞–Ω–∞ —Å—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è.

**–†–µ—à–µ–Ω–∏–µ**:
```bash
cd /Users/ankin/Documents/element-x-fork/ios

# –ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞
rm -rf ~/Library/Developer/Xcode/DerivedData/ElementX-*
rm -rf ~/Library/Caches/org.swift.swiftpm

# –í Xcode
# Product ‚Üí Clean Build Folder (‚áß‚åòK)
# Product ‚Üí Build (‚åòB)
# Product ‚Üí Run (‚åòR)
```

---

## üìù –ß–µ–∫–ª–∏—Å—Ç

- [ ] –Ø –Ω–∞—Ö–æ–∂—É—Å—å –Ω–∞ **–≥–ª–∞–≤–Ω–æ–º —ç–∫—Ä–∞–Ω–µ** (–Ω–µ—Ç —Å—Ç—Ä–µ–ª–∫–∏ "–Ω–∞–∑–∞–¥")
- [ ] –í–Ω–∏–∑—É —ç–∫—Ä–∞–Ω–∞ –µ—Å—Ç—å **TabBar**
- [ ] –í TabBar **4 –≤–∫–ª–∞–¥–∫–∏** (Chats, Spaces, Widgets, Profile)
- [ ] –¢—Ä–µ—Ç—å—è –≤–∫–ª–∞–¥–∫–∞ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è **Widgets** —Å –∏–∫–æ–Ω–∫–æ–π üß©
- [ ] –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ Widgets –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Å–ø–∏—Å–æ–∫ –∫–æ–º–Ω–∞—Ç

–ï—Å–ª–∏ –≤—Å–µ –ø—É–Ω–∫—Ç—ã –≤—ã–ø–æ–ª–Ω–µ–Ω—ã ‚Üí **–í—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç!** ‚úÖ
